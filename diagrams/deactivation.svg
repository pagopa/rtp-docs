<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="702px" preserveAspectRatio="none" style="width:1140px;height:702px;background:#FFFFFF;" version="1.1" viewBox="0 0 1140 702" width="1140px" zoomAndPan="magnify"><defs><filter height="300%" id="fuwkj1k64eveh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fuwkj1k64eveh)" height="466.2578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="310.8535" y="119.7988"/><rect fill="#FFFFFF" filter="url(#fuwkj1k64eveh)" height="127.1973" style="stroke:#A80036;stroke-width:1.0;" width="10" x="656.5742" y="149.1094"/><rect fill="#FFFFFF" filter="url(#fuwkj1k64eveh)" height="34.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="656.5742" y="463.8145"/><rect fill="#FFFFFF" filter="url(#fuwkj1k64eveh)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="656.5742" y="527.4355"/><rect fill="none" filter="url(#fuwkj1k64eveh)" height="436.9473" style="stroke:#000000;stroke-width:2.0;" width="1116.3916" x="10" y="164.1094"/><rect fill="none" filter="url(#fuwkj1k64eveh)" height="302.75" style="stroke:#000000;stroke-width:2.0;" width="1096.3916" x="20" y="291.3066"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="74" x2="74" y1="88.4883" y2="618.0566"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="315.5649" x2="315.5649" y1="88.4883" y2="618.0566"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="660.6748" x2="660.6748" y1="88.4883" y2="618.0566"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="83.5146" x="30" y="85.5352">SP Debitore</text><ellipse cx="74.7573" cy="15" fill="#FEFECE" filter="url(#fuwkj1k64eveh)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M74.7573,23 L74.7573,50 M61.7573,31 L87.7573,31 M74.7573,50 L61.7573,65 M74.7573,50 L87.7573,65 " fill="none" filter="url(#fuwkj1k64eveh)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="83.5146" x="30" y="630.5918">SP Debitore</text><ellipse cx="74.7573" cy="643.5449" fill="#FEFECE" filter="url(#fuwkj1k64eveh)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M74.7573,651.5449 L74.7573,678.5449 M61.7573,659.5449 L87.7573,659.5449 M74.7573,678.5449 L61.7573,693.5449 M74.7573,678.5449 L87.7573,693.5449 " fill="none" filter="url(#fuwkj1k64eveh)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fuwkj1k64eveh)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="142.5771" x="242.5649" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="128.5771" x="249.5649" y="73.5352">Activation Service</text><rect fill="#FEFECE" filter="url(#fuwkj1k64eveh)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="142.5771" x="242.5649" y="617.0566"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="128.5771" x="249.5649" y="637.5918">Activation Service</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="81.7988" x="617.6748" y="85.5352">Cosmos DB</text><path d="M643.5742,36 C643.5742,26 661.5742,26 661.5742,26 C661.5742,26 679.5742,26 679.5742,36 L679.5742,62 C679.5742,72 661.5742,72 661.5742,72 C661.5742,72 643.5742,72 643.5742,62 L643.5742,36 " fill="#FEFECE" filter="url(#fuwkj1k64eveh)" style="stroke:#A80036;stroke-width:1.5;"/><path d="M643.5742,36 C643.5742,46 661.5742,46 661.5742,46 C661.5742,46 679.5742,46 679.5742,36 " fill="none" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="81.7988" x="617.6748" y="630.5918">Cosmos DB</text><path d="M643.5742,643.5449 C643.5742,633.5449 661.5742,633.5449 661.5742,633.5449 C661.5742,633.5449 679.5742,633.5449 679.5742,643.5449 L679.5742,669.5449 C679.5742,679.5449 661.5742,679.5449 661.5742,679.5449 C661.5742,679.5449 643.5742,679.5449 643.5742,669.5449 L643.5742,643.5449 " fill="#FEFECE" filter="url(#fuwkj1k64eveh)" style="stroke:#A80036;stroke-width:1.5;"/><path d="M643.5742,643.5449 C643.5742,653.5449 661.5742,653.5449 661.5742,653.5449 C661.5742,653.5449 679.5742,653.5449 679.5742,643.5449 " fill="none" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#fuwkj1k64eveh)" height="466.2578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="310.8535" y="119.7988"/><rect fill="#FFFFFF" filter="url(#fuwkj1k64eveh)" height="127.1973" style="stroke:#A80036;stroke-width:1.0;" width="10" x="656.5742" y="149.1094"/><rect fill="#FFFFFF" filter="url(#fuwkj1k64eveh)" height="34.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="656.5742" y="463.8145"/><rect fill="#FFFFFF" filter="url(#fuwkj1k64eveh)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="656.5742" y="527.4355"/><polygon fill="#A80036" points="298.8535,115.7988,308.8535,119.7988,298.8535,123.7988,302.8535,119.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74.7573" x2="304.8535" y1="119.7988" y2="119.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="50.2607" x="81.7573" y="115.0566">DELETE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.7222" x="136.1313" y="115.0566">/activations/{activationId}</text><polygon fill="#A80036" points="644.5742,145.1094,654.5742,149.1094,644.5742,153.1094,648.5742,149.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="320.8535" x2="650.5742" y1="149.1094" y2="149.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.4707" x="327.8535" y="144.3672">find by ID</text><path d="M10,164.1094 L72.1387,164.1094 L72.1387,171.4199 L62.1387,181.4199 L10,181.4199 L10,164.1094 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="436.9473" style="stroke:#000000;stroke-width:2.0;" width="1116.3916" x="10" y="164.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="25" y="177.6777">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="87.1387" y="176.7441">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116.5474" x="91.2153" y="176.7441">Activation not found</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="207.7627" y="176.7441">]</text><polygon fill="#A80036" points="331.8535,198.7305,321.8535,202.7305,331.8535,206.7305,327.8535,202.7305" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="325.8535" x2="655.5742" y1="202.7305" y2="202.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39.2158" x="337.8535" y="197.9883">empty</text><polygon fill="#A80036" points="85.7573,228.041,75.7573,232.041,85.7573,236.041,81.7573,232.041" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79.7573" x2="309.8535" y1="232.041" y2="232.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="99.3154" x="91.7573" y="227.2988">404 Not Found</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1126.3916" y1="241.041" y2="241.041"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="15" y="251.6758">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="94.2144" x="19.0767" y="251.6758">Activation found</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="113.291" y="251.6758">]</text><polygon fill="#A80036" points="331.8535,272.3066,321.8535,276.3066,331.8535,280.3066,327.8535,276.3066" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="325.8535" x2="660.5742" y1="276.3066" y2="276.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.7188" x="337.8535" y="271.5645">Payer</text><path d="M20,291.3066 L82.1387,291.3066 L82.1387,298.6172 L72.1387,308.6172 L20,308.6172 L20,291.3066 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="302.75" style="stroke:#000000;stroke-width:2.0;" width="1096.3916" x="20" y="291.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="35" y="304.875">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="97.1387" y="303.9414">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="82.022" x="101.2153" y="303.9414">Access Denied</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="183.2373" y="303.9414">]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="320.8535" x2="362.8535" y1="329.9277" y2="329.9277"/><line style="stroke:#A80036;stroke-width:1.0;" x1="362.8535" x2="362.8535" y1="329.9277" y2="342.9277"/><line style="stroke:#A80036;stroke-width:1.0;" x1="321.8535" x2="362.8535" y1="342.9277" y2="342.9277"/><polygon fill="#A80036" points="331.8535,338.9277,321.8535,342.9277,331.8535,346.9277,327.8535,342.9277" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311.7207" x="327.8535" y="325.1855">verify JWT subject throws AccessDeniedException</text><path d="M660.7207,315.1172 L660.7207,340.1172 L1090.7207,340.1172 L1090.7207,325.1172 L1080.7207,315.1172 L660.7207,315.1172 " fill="#FBFB77" filter="url(#fuwkj1k64eveh)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1080.7207,315.1172 L1080.7207,325.1172 L1090.7207,325.1172 L1080.7207,315.1172 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="409.8174" x="666.7207" y="332.6855">Subject in token doesn't match Service Provider ID in Payer entity</text><polygon fill="#A80036" points="85.7573,368.2383,75.7573,372.2383,85.7573,376.2383,81.7573,372.2383" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79.7573" x2="309.8535" y1="372.2383" y2="372.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="99.3154" x="91.7573" y="367.4961">404 Not Found</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1116.3916" y1="381.2383" y2="381.2383"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="25" y="391.873">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="87.4038" x="29.0767" y="391.873">Access Granted</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4.0767" x="116.4805" y="391.873">]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="320.8535" x2="362.8535" y1="416.5039" y2="416.5039"/><line style="stroke:#A80036;stroke-width:1.0;" x1="362.8535" x2="362.8535" y1="416.5039" y2="429.5039"/><line style="stroke:#A80036;stroke-width:1.0;" x1="321.8535" x2="362.8535" y1="429.5039" y2="429.5039"/><polygon fill="#A80036" points="331.8535,425.5039,321.8535,429.5039,331.8535,433.5039,327.8535,429.5039" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.2466" x="327.8535" y="411.7617">verify JWT subject succeeds</text><path d="M522.2466,401.6934 L522.2466,426.6934 L916.2466,426.6934 L916.2466,411.6934 L906.2466,401.6934 L522.2466,401.6934 " fill="#FBFB77" filter="url(#fuwkj1k64eveh)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M906.2466,401.6934 L906.2466,411.6934 L916.2466,411.6934 L906.2466,401.6934 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="373.6294" x="528.2466" y="419.2617">Subject in token matches Service Provider ID in Payer entity</text><polygon fill="#A80036" points="644.5742,459.8145,654.5742,463.8145,644.5742,467.8145,648.5742,463.8145" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="320.8535" x2="650.5742" y1="463.8145" y2="463.8145"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.7554" x="327.8535" y="459.0723">save deleted activation</text><path d="M671,442.5039 L671,467.5039 L992,467.5039 L992,452.5039 L982,442.5039 L671,442.5039 " fill="#FBFB77" filter="url(#fuwkj1k64eveh)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M982,442.5039 L982,452.5039 L992,452.5039 L982,442.5039 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300.8027" x="677" y="460.0723">Moves activation record to a separate collection</text><polygon fill="#A80036" points="331.8535,494.125,321.8535,498.125,331.8535,502.125,327.8535,498.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="325.8535" x2="660.5742" y1="498.125" y2="498.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35.9595" x="337.8535" y="493.3828">saved</text><polygon fill="#A80036" points="644.5742,523.4355,654.5742,527.4355,644.5742,531.4355,648.5742,527.4355" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="320.8535" x2="650.5742" y1="527.4355" y2="527.4355"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.3657" x="327.8535" y="522.6934">delete activation by ID</text><polygon fill="#A80036" points="331.8535,552.7461,321.8535,556.7461,331.8535,560.7461,327.8535,556.7461" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="325.8535" x2="660.5742" y1="556.7461" y2="556.7461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46.7124" x="337.8535" y="552.0039">deleted</text><polygon fill="#A80036" points="85.7573,582.0566,75.7573,586.0566,85.7573,590.0566,81.7573,586.0566" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79.7573" x2="314.8535" y1="586.0566" y2="586.0566"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105.3838" x="91.7573" y="581.3145">204 No Content</text><!--SRC=[ZLDDImCn4BtdLmnUX8Weuga7eMkgA2g55JodoTH6jqb9fgj5_EzEqjr-Y48Nzf39cpTltapIk_CGGqAX3OK8HrBMOr0uSNn2AOz09wZ7IYnq96VSGdlAeA4XrsfomKEDiNMcnmvhOJNfYKwOSTSXpKC2LNNNgXA2wU3qYf4d9mEGKeqUHiyZAU5CRqZJsTVsS6U_XHZMEKTL0vWwRs6oWZibEWmMMjqGx0dpWM0QbjvAAO0_LS5fgJi0d2zeLOAPbuEiAMkvFB-49qwxwT84Djp77ki_Z6EzmbY25lTavL0lpM1Y2z0xx1bw2MkI5gERhk3-vHdISlA6Xe1cCNomhILtdJhwDBZ8MZOCt2b2TAyp6a3T9V9SARoZ1nim-ME2kIOpwwS5unXQPp6oZHbQv0DwSfql1tYJ8Hj_IcktaTVZyDxIajFGfiFwAFen7TJ1h_ggogkMT8iydGPP8cpNwy_gZw7bKbiGH3GXMfO26XBoQyZpDQ5fM6CcsR14f6NqfPZzMyTQmYxvUfj_CNHAnJ_Zk2ZZWEl0ZdlQiNnd__WnbY5vA_B_0m00]--></g></svg>